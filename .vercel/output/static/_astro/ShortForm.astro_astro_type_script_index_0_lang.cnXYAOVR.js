import{_ as m}from"./preload-helper.BlTxHScW.js";async function r(){const t=document.getElementById("newsletter-form"),e=document.getElementById("newsletter-status");t&&t.addEventListener("submit",async function(a){a.preventDefault();const o=new FormData(t).get("email");try{const{createClient:s}=await m(async()=>{const{createClient:c}=await import("./index.D1lRIPgj.js");return{createClient:c}},[]),i=s("https://jsffimudphrimrghctql.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZmZpbXVkcGhyaW1yZ2hjdHFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMDA2NTYsImV4cCI6MjA3ODg3NjY1Nn0.8NxE8y_gNkcAudJKzIhk9UiEczLxCDSUeT6V6JN1Fo8"),{error:n}=await i.from("newsletter_signups").insert([{email:o,source:"footer"}]);if(n)if(n.code==="23505")e.textContent="You're already subscribed!";else throw n;else e.textContent="Thanks for subscribing!";e.classList.remove("hidden"),t.reset(),setTimeout(()=>{e.classList.add("hidden")},5e3)}catch(s){console.error("Error:",s),e.textContent="Something went wrong. Please try again.",e.classList.remove("hidden")}})}r();document.addEventListener("astro:after-swap",r);
