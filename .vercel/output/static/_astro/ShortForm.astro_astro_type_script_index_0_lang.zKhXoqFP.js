import{c as i}from"./index.Gz8Thhyc.js";function n(){const s=document.getElementById("newsletter-form"),e=document.getElementById("newsletter-status");s&&s.addEventListener("submit",async function(r){r.preventDefault();const a=new FormData(s).get("email"),o=i("https://jsffimudphrimrghctql.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZmZpbXVkcGhyaW1yZ2hjdHFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMDA2NTYsImV4cCI6MjA3ODg3NjY1Nn0.8NxE8y_gNkcAudJKzIhk9UiEczLxCDSUeT6V6JN1Fo8");try{const{error:t}=await o.from("newsletter_signups").insert([{email:a,source:"footer"}]);if(t)if(t.code==="23505")e.textContent="You're already subscribed!";else throw t;else e.textContent="Thanks for subscribing!";e.classList.remove("hidden"),s.reset(),setTimeout(()=>{e.classList.add("hidden")},5e3)}catch(t){console.error("Error:",t),e.textContent="Something went wrong. Please try again.",e.classList.remove("hidden")}})}n();document.addEventListener("astro:after-swap",n);
